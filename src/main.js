import './styles.scss'import gsap from 'gsap';import ScrollTrigger from 'gsap/ScrollTrigger';import {Hover} from "perspective.js/src";import Isotope from 'isotope-layout';window.addEventListener("DOMContentLoaded", () => {    lucide.createIcons();    gsap.registerPlugin(ScrollTrigger);    let header = document.getElementById('masthead');    if (header) {        ScrollTrigger.create({            start: 'top top',            end: 'bottom bottom',            onUpdate: (self) => {                const scrollDirection = self.direction; // 1 for down, -1 for up                if (scrollDirection === 1) {                    gsap.to(header, {yPercent: -100});                } else if (scrollDirection === -1) {                    gsap.to(header, {yPercent: 0});                }            }        });    }    // Hero Slider    const heroSliderContainer = document.querySelector('.hero-slider');    if (heroSliderContainer) {        const gsapTextAnimation = (swiper) => {            if (!swiper.slides) {                return;            }            gsap.set('.animated-title, .animated-description', {opacity: 0, x: '100%'});            const activeSlide = swiper.slides[swiper.activeIndex];            if (activeSlide) {                const activeTitle = activeSlide.querySelector('.animated-title');                const activeDescription = activeSlide.querySelector('.animated-description');                console.log(activeTitle);                if (activeTitle) {                    gsap.to(activeTitle, {                        opacity: 1,                        x: 0,                        duration: 1,                        ease: 'power3.out'                    });                }            }        }        const heroSlider = new Swiper(heroSliderContainer, {            spaceBetween: 32,            speed: 2500,            parallax: true,            loop: true,            autoplay: {                delay: 6500,                disableOnInteraction: false,            },            pagination: {                el: ".swiper-pagination",                dynamicBullets: true,            },            navigation: {                nextEl: ".swiper-button-next",                prevEl: ".swiper-button-prev",            },        });        // heroSlider.on('slideChange', () => {        //     console.log('slide changed');        //     gsapTextAnimation(heroSlider);        // });        // Trigger animation for the first slide on page load        // gsapTextAnimation(heroSlider);    }    const portfolioItem = document.querySelectorAll('.portfolio-item-wrap');    if (portfolioItem.length > 0) {        portfolioItem.forEach(item => {            if (!item.dataset.tiltPerspective) {                return;            }            const tilt = new Hover(item, {                "max": 15,                "reverseTilt": true,                "scale": 1,                "perspective": item.dataset.tiltPerspective            })        });    }    const portfolioGrid = document.querySelector('.portfolio-grid');    const portfolioFilter = document.querySelector('.portfolio-filter');    if (portfolioGrid && portfolioFilter) {        const isActiveClass = 'is-active';        const iso = new Isotope(portfolioGrid, {            itemSelected: '.portfolio-item',            layoutMode: 'fitRows'        });        // Filtering functionality        portfolioFilter.addEventListener('click', (event) => {            event.preventDefault();            if (!event.target.classList.contains('portfolio-filter-button')) {                return;            }            // clear active buttons            portfolioFilter.querySelectorAll('li').forEach(el => {                if (el.classList.contains(isActiveClass)) {                    el.classList.remove(isActiveClass);                }            });            // Update active button            const liEl = event.target.closest('li');            if (!liEl.classList.contains(isActiveClass)) {                liEl.classList.add(isActiveClass);            } else {                liEl.classList.remove(isActiveClass);            }            // Elements filtering function            const filterValue = event.target.dataset.filter            iso.arrange({filter: filterValue});        });    }    // Back to top and Scroll Track    const backToTopContainer = document.getElementById('backToTopWrapper');    if (backToTopContainer) {        // Back to top        const backToTopButton = document.querySelector('.btn-backtotop');        if (backToTopButton) {            ScrollTrigger.create({                start: 'top -200px',                onEnter: () => backToTopContainer.classList.add('show'),                onLeaveBack: () => backToTopContainer.classList.remove('show'),            });        }        // Scroll Tracking        const scrollTrackItem = document.querySelector('.scroll-track-item');        const docHeight = document.documentElement.scrollHeight - window.innerHeight;        gsap.to(scrollTrackItem, {            width: '100%',            ease: 'easeInOut',            scrollTrigger: {                trigger: window.body,                start: 'top top',                end: () => docHeight,                scrub: true,                markers: false,            }        });    }    // Projects Carousel    const projectCarousel = document.querySelector('.project-carousel');    if (projectCarousel) {        const projectCarouselSlide = new Swiper('.project-carousel', {            slidesPerView: 2,            spaceBetween: 32,            speed: '1500',            loop: true,            navigation: {                nextEl: ".slider-btn-next",                prevEl: ".slider-btn-prev",            },            breakpoints: {                390: {                    slidesPerView: 1,                    spaceBetween: 0,                },                1024: {                    slidesPerView: 2,                    spaceBetween: 32,                },            },        });    }});